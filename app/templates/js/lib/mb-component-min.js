$.fn.tab=function(j){var w,A,t,q,v,i,o,r,b,D,z,d,u,x,h,k,e,a,g,c,f,m,p,n,C,B=1;ptab="."+j.tab;D="."+j.plist;z=j.listafter;d="."+j.pcontent;u=j.action=="click"?"click":"hover";h=j.num||1;m=j.phone_tipbar||false;e=j.type;if(j.anima_time){k=j.anima_time}t=$(d).children().children();C=parseInt(t.css("width"));q=$(D).children("li");b=$(ptab);x=q.length;if(!("ontouchstart" in document.documentElement)){if(e!="move1"&&e!="move2"){t.hide()}}n=new Date().getTime();$(D).one("focusin",function(){$(document).keydown(function(G){var E=(G.keyCode)||(G.which)||(G.charCode);var F=$("."+z);switch(E){case 39:s(h,h+1);$("."+z).trigger("focus");break;case 37:s(h,h-1);$("."+z).trigger("focus");break;case 27:$("#tabs-esc").unbind("focus").focus();$(document).unbind("keydown").unbind("keyup");break;case 18:p=true;break;case 33:if(p){F.prev().focus()}break;case 34:if(p){F.next().focus()}break}});$(document).keyup(function(F){var E=(F.keyCode)||(F.which)||(F.charCode);if(E==18){p=false}})});$("#tabs-esc").bind("focus",function(E){$(d+" li:visible").focus()});t.eq(--h).show();if(e=="move2"&&x!=t.length){t.parent().css("marginLeft",-C*x+parseInt($("."+j.leftarr).css("width")))}q.eq(h).addClass(z);q.each(function(E){if(u=="click"){$(this).click(function(){s(h,E)})}else{$(this).mouseover(function(){w=setTimeout(function(){s(h,E)},200)}).mouseout(function(){clearTimeout(w)})}$(this).focus(function(){s(h,E);$(this).keydown(function(H){var F=$(this).attr("data-url");if(!F){return}var G=(H.keyCode)||(H.which)||(H.charCode);if(G==13){window.open(F)}})})});if(k){b.hover(function(){clearInterval(A)},function(){A=setInterval(y,k)});function y(){var E=t.eq(h+2).children("img").first();if(E.attr("data-src")){E.attr("src",E.attr("data-src")).removeAttr("data-src")}s(h,h+1)}A=setInterval(y,k)}if(j.leftarr){a=$("."+j.leftarr);a.click(function(){if(e=="move2"){s(h,h-1,"left")}else{s(h,h-1)}})}if(j.rightarr){g=$("."+j.rightarr);g.click(function(){if(e=="move2"){s(h,h+1,"right")}else{s(h,h+1)}})}function s(G,E,J){var M=new Date().getTime();if(M-n<600){return}E=E%x;if(G==E){return}q.eq(G).removeClass(z);q.eq(E).addClass(z);var P=t.eq(E).find("img");if(P){P.each(function(){if($(this).attr("data-src")){$(this).attr("src",$(this).attr("data-src")).removeAttr("data-src")}})}switch(e){case"fade":t.eq(G).fadeOut(1000);t.eq(E).fadeIn(1500);break;case"move1":if(J){return}if("ontouchstart" in document.documentElement){var I;if(E){I="next"}else{I=-1}myscroll.scrollToPage(E,0,800)}else{t.parent().parent().animate({scrollLeft:parseInt(C)*E},{queue:false,duration:800})}break;case"move2":var O=$(d).children().children();var L=O.first();if(J=="left"){var R=O.last();L.animate({marginLeft:C},500,function(){L.removeAttr("style");R.insertBefore(L)})}else{if(J=="right"){var Q=L.clone();L.animate({marginLeft:-C},500,function(){$(".com-tab-content ul").append(Q);L.remove()})}else{var N=(E-G+x)%x;var F=$(d).children().children();for(var K=0;K<N;K++){var H=F.eq(K);H.animate({marginLeft:-C},500,(function(S){return function(){var T=F.eq(S);var U=T.clone();U.removeAttr("style");$(".com-tab-content ul").append(U);T.remove()}})(K))}}}break;default:t.eq(G).hide();t.eq(E).show()}if(j.more){var I;url="url"+(E+1);I=j.more.url;$("."+j.moreclass).attr("href",I)}h=E;n=M}if("ontouchstart" in document.documentElement){e="move1";t.parent().css("width",parseInt(t.css("width"))*t.length);t.addClass("touch-style");if(j.leftarr){a.hide()}if(j.rightarr){g.hide()}q.each(function(E){if(u=="click"){$(this).unbind("click")}else{$(this).unbind("mouseover")}});if(k){myscroll=new iScroll(d,{snap:true,momentum:false,hScrollbar:m,onScrollEnd:l,onTouchEnd:function(){A=setInterval(y,k)}})}else{f=true;myscroll=new iScroll(d,{snap:true,momentum:false,hScrollbar:m,onScrollEnd:l})}document.querySelector(d).addEventListener("touchstart",function(E){f=true;clearInterval(A)});function l(){if(f){s(h,this.currPageX,true);f=false;h=this.currPageX}}}};$.fn.input=function(b){var g,d,f,h,e,i,a;if(!b.tipinputclass){alert("\u7f3a\u5c11\u5fc5\u8981\u7684\u53c2\u6570")}d=b.action||"click";g=$(b.tipinputclass);f=$(b.tiparea);e=b.input_focus_class;i=b.input_put_class;h=g.prev("label");a=b.input_type;g.focus(function(){if(a==1){h.hide();return}g.parent().addClass(e)});g.blur(function(){if(!g.val()){g.parent().removeClass(e);h.show()}});if(d=="hover"){g.hover(function(){g.trigger("focus")},function(){g.trigger("blur")})}if(g.attr("type")=="password"){var c=false;g.one("keypress",function(j){if(j.keyCode>=65&&j.keyCode<=90){f.show();c=true}else{if(j.keyCode>=97&&j.keyCode<=122){if(!f.is(":hidden")){f.hide();c=true}}}});g.keydown(function(j){if(j.keyCode==20){if(c){f.hide();c=false}else{f.show();c=true}}if(j.keyCode==16){if(c){f.hide()}else{f.show()}}});g.keyup(function(j){if(j.keyCode==16){if(c){f.show()}else{f.hide()}}})}g.keydown(function(){if(!h.is(":hidden")){h.hide();g.addClass(i)}})};$.fn.popwin=function(c){if(!c.aclassName||!c.wclassName){return}if(!c.maskclick){c.maskclick=false}var h,i,d,j,e,n,f,a,l,g,m;e=!!c.iframe||false;h="."+c.aclassName;i="."+c.wclassName;d="."+c.pclose;n="."+c.mask;opactiy=c.opactiy;j="."+c.maskclick;l=c.autoclose;a=$(h);if(e){i=$(i);d=$(d);n=$(n)}else{i=$(i);d=$(d);n=$(n)}var k=function(){g=true;m=document.activeElement;n.height($(document).height()).animate({opacity:opactiy},100).fadeIn("slow");i.css("top",$(window).height()/2-$(i).height()/2+$(window).scrollTop()).fadeIn("slow").focus();d.click(function(){n.fadeOut("slow");i.fadeOut("slow");$(window).unbind("scroll",b);$("body").unbind("mousewheel");$(document).unbind("focusin");m.focus();g=false;d.unbind("click")});if(c.autoclose){setTimeout(function(){d.trigger("click")},c.autoclose)}if(c.maskclick){n.css("cursor","pointer").click(function(){d.trigger("click")})}else{n.css("cursor","default").unbind("click")}$(window).bind("scroll",b);$("body").bind("mousewheel",function(o){return false});$(document).bind("focusin",function(o){if(o.target.nodeName!="DIV"){if(g&&!$(o.target).isChildOf("."+c.wclassName)){o.stopPropagation();i.focus()}}})};if(c.aclassName=="null"){k()}else{a.bind("click",function(){k()})}function b(){d.trigger("click")}$(document).keydown(function(p){var o=(p.keyCode)||(p.which)||(p.charCode);if(g&&o==27){d.focus();setTimeout(function(){d.trigger("click")},1500)}})};jQuery.fn.isChildOf=function(a){return(this.parents(a).length>0)};$.fn.changestate=function(e){var a,b,c,d;a=e.bindelement;a=$(a);b=e.classname;d=e.action;c=e.num;if(--c>=0){a.eq(c).addClass(b)}a.each(function(f){if(d=="click"){$(this).click(function(){if(c==f){return}$(this).addClass(b);a.eq(c).removeClass(b);c=f})}else{$(this).mouseover(function(){if(c==f){return}$(this).addClass(b);a.eq(c).removeClass(b);c=f})}})};$.fn.clickchange=function(f){var g,a,m,h,n,c,d,l,k,e,j,b;g="."+f.prevbtn;g=$(g);k=f.prevdisable||"";a="."+f.nextbtn;a=$(a);e=f.nextdisable||"";m="."+f.showouter;h=f.action;d=f.showimgnum;b=f.circle||false;m=$(m);l=m.find("li").length;n=m.find("li").outerWidth(true);c=0;j=l-d;g.click(function(){if((c+1)>j&&!b){return}else{if((c+1)>j&&b){c=-1}}m.animate({scrollLeft:n*(++c)},{queue:false,duration:500});if((c+1)>j){g.addClass(k)}else{a.removeClass(e)}});a.click(function(){if((c-1)<0&&!b){return}else{if((c-1)<0&&b){c=j+1}}m.animate({scrollLeft:n*(--c)},{queue:false,duration:500});if((c-1)<0){a.addClass(e)}else{g.removeClass(k)}})};$.fn.pagenav=function(e){var j,p,h,f,a,m,n,g,d,k,c,l;a=e.showpage||".com-pagenav-showpage";m=e.showpageli||".com-pagenav-showpage li";n=e.leftfunc||".com-pagenav-left-func";g=e.rightfunc||".com-pagenav-right-func";d=e.leftarrow||".com-pagenav-left-arrow";k=e.rightarrow||".com-pagenav-right-arrow";l=e.type||"round";a=$(a);m=$(m);n=$(n);g=$(g);d=$(d);k=$(k);c=m.length;if(c<8){n.first().hide();n.last().hide();g.first().hide();g.last().hide();if(l=="angle"){a.css("width",27*c)}else{a.css("width",27*c-4)}}else{for(f=0;f<9;f++){if(l=="round"){m.eq(f).children("a").css("paddingLeft",12).children("span").css("paddingRight",12)}else{if(l=="angle"){m.eq(f).children("a").css("padding","3px 10px")}}}if(c>99){for(f=99;f<c;f++){if(l=="round"){m.eq(f).children("a").css("paddingLeft",4).children("span").css("paddingRight",4)}else{if(l=="angle"){m.eq(f).children("a").css("padding","3px 2px")}}}}}function q(r){var i=a.scrollLeft();h=Math.ceil(i/35)>(c-7)?(c-7):Math.ceil(i/35);if("right"==r){h--}i=35*h;a.animate({scrollLeft:i},{queue:false,duration:500});if(i<35){d.addClass("com-pagenav-grey")}else{n.removeClass("com-pagenav-grey")}if(i>(35*(c-8))){k.addClass("com-pagenav-grey")}else{g.removeClass("com-pagenav-grey")}}d.hover(function(){p=setInterval(function(){if(a.scrollLeft()<=0){d.addClass("com-pagenav-grey");return}a.scrollLeft(a.scrollLeft()-1)},20)},function(){clearInterval(p);q("right")}).click(function(){a.animate({scrollLeft:a.scrollLeft()-241},{queue:false,duration:500})});k.hover(function(){if(a.scrollLeft()>35*(c-8)){return}j=setInterval(function(){if(a.scrollLeft()>(35*(c-7)-1)){k.addClass("com-pagenav-grey");return}a.scrollLeft(a.scrollLeft()+1)},20)},function(){clearInterval(j);q("left")}).click(function(){if(a.scrollLeft()>(35*(c-14))){a.animate({scrollLeft:(35*(c-7))},{queue:false,duration:200});return}a.animate({scrollLeft:a.scrollLeft()+241},{queue:false,duration:500})});var o;n.eq(1).click(function(){o=$(".com-pagenav-angle-nowpage").parent().index()+1;if(o<2){return}b(o-1)});g.eq(1).click(function(){o=$(".com-pagenav-angle-nowpage").parent().index()+1;if(o>(c-1)){return}b(o+1)});n.eq(0).click(function(){o=1;b(1)});g.eq(2).click(function(){o=c;b(c)});function b(i){a.animate({scrollLeft:(i-4)*35},{queue:false,duration:500});$(".com-pagenav-angle-nowpage").removeClass("com-pagenav-angle-nowpage");m.eq(i-1).children("a").addClass("com-pagenav-angle-nowpage");if(i<4){n.removeClass("com-pagenav-grey");g.removeClass("com-pagenav-grey");d.addClass("com-pagenav-grey");if(i==1){n.addClass("com-pagenav-grey")}}else{if(i>(c-4)){g.removeClass("com-pagenav-grey");n.removeClass("com-pagenav-grey");k.addClass("com-pagenav-grey");if(i==c){g.addClass("com-pagenav-grey")}}else{n.removeClass("com-pagenav-grey");g.removeClass("com-pagenav-grey")}}}};$.fn.lamp=function(h){var a,f,e,b,g,c,d;e=h.targetUl;d=h.length;if(!h.targetUl){alert("\u8dd1\u9a6c\u706f\u6548\u679c\u53c2\u6570\u4e0d\u8db3\uff0c\u52a0\u8f7d\u5931\u8d25\uff01");return}e=$("."+h.targetUl);c=e.children().length;if(c<d){return}a=h.height||22;f=h.time||4000;setInterval(function(){g=e.children("li").first();b=g.html();g.animate({marginTop:-a},1000);setTimeout(function(){g.remove()},1000);e.append($("<li>").html(b))},f)};$.fn.version=function(c){var a,b,d;a=c.type;$("body").children().first().before($('<div class="com-broswer-tips-hack" style="height: 70px; display: none;"></div>'));d=$("#com-browser-warn");$(".com-broswer-close").click(function(){d.slideUp("slow");$(".com-broswer-tips-hack").hide("slow")});$(".com-broswer-notip-broswer").click(function(){cookie.set("broswer","true",{expires:30});d.slideUp("slow");$(".com-broswer-tips-hack").hide("slow")});b=window.navigator.userAgent.toLowerCase();if(a==1&&/msie/.test(b)&&!/opera/.test(b)){if(!cookie.get("broswer")){$(".com-browser-text span").html('\u9ad8\u7ea7\u6d4f\u89c8\u5668\uff08<a href="http://www.google.cn/chrome/intl/zh-CN/landing_chrome.html?hl=zh-CN&brand=CHMI" target="_blank">chrom</a>\uff0c<a href="http://firefox.com.cn/" target="_blank">firfox</a>\uff09');d.slideDown("slow");$(".com-broswer-tips-hack").show("slow")}return}if(b.indexOf("windows nt 6.1")>-1){if(/msie/.test(b)&&!/opera/.test(b)){if((b.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1]<9){if(!cookie.get("broswer")){d.slideDown("slow");$(".com-broswer-tips-hack").show("slow")}}}else{}}else{if(/msie/.test(b)&&!/opera/.test(b)){if((b.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1]<8){if(!cookie.get("broswer")){$(".com-browser-text span").html('<a href="http://windows.microsoft.com/zh-CN/internet-explorer/products/ie-8/ie8-how-to" target="_blank">IE8</a>');d.slideDown("slow");$(".com-broswer-tips-hack").show("slow")}}}}};$.fn.dial=function(e){var n,h,o,d,b,j,g,a,k,m,l,r,p,q,i,f;j="."+e.obj;g="."+e.btn;a=e.left;k=e.top;m=e.width;l=e.height;f=e.horizontal*2+(e.vertical-2)*2;switch(f){case 8:b=9;break;case 10:b=8;break;default:b=8}j=$(j);g=$(g);i=a+(e.horizontal-1)*m;q=k+(e.vertical-1)*l;function s(){r=parseInt(j.css("top"));p=parseInt(j.css("left"));if(r==k&&p<i){j.css("left",p+m)}if(p==i&&r<q){j.css("top",r+l)}if(r==q&&p>a){j.css("left",p-m)}if(p==a&&r>k){j.css("top",r-l)}if(--d<1){clearInterval(o);e.over_sult()}}function c(){if(h){n=h}else{n=1}h=after_msg.nextid;d=h-n+f*b;o=setInterval(s,200);setTimeout(function(){clearInterval(o);o=setInterval(s,100)},1000);setTimeout(function(){clearInterval(o);o=setInterval(s,50)},2000);setTimeout(function(){clearInterval(o);o=setInterval(s,100)},4000);setTimeout(function(){clearInterval(o);o=setInterval(s,200)},5000)}$.ajax({url:e.times_url,type:"POST",cache:false,success:e.times_func,error:function(t,v,u){alert("error "+v+" "+u)}});g.click(function(){if(d>0){return}$.ajax({url:e.times_url,type:"POST",cache:false,success:function(t){if(e.times_func(t)){$.ajax({url:e.result_url,type:"POST",cache:false,success:function(u){u=JSON.parse(u);after_msg=e.result_func(u);c()},error:function(u,w,v){alert("error "+w+" "+v)}})}},error:function(t,v,u){alert("error "+v+" "+u)}})})};$.fn.fixed=function(d){var a,f,i,e,b,h,g;a=$(d.target);i=$(window).scrollTop();e=$(document).height();b=$(window).height();a.value=parseInt(a.css("top"));h=$.browser.msie&&$.browser.version<7;g=d.scroll_top;flag=true;if(!isNaN(a.value)){f="top"}else{f="bottom";a.value=parseInt(a.css("bottom"))}function c(){if(h){if(f=="bottom"){i=$(window).scrollTop();a.css("bottom",a.value+e-b-i)}}}c();$(window).scroll(function(){if(h){if(f=="bottom"){c()}else{i=$(window).scrollTop();a.css("top",i+a.value)}}if(g){i=$(window).scrollTop();if(i>g){a.fadeIn(1000)}else{a.fadeOut(1000)}}});$(window).resize(function(){b=$(window).height();c()})};$.fn.scAnimate=function(e){var a,b,d;a=$(""+e.target_ele);b=e.position;d=e.animat_time||1000;if(isNaN(b)){var c=$(""+b[0]);b=c.offset().top+parseInt(b[1])}a.click(function(){$("html,body").animate({scrollTop:b},d)})};$.fn.second_menu=function(e){var a,d,c,b;a=$(""+e.target_ele);d=$(""+e.target_next);b=a.children("ul");a.focus(function(){$(document).bind("keydown",function(f){if(f.keyCode==40){c=a.attr("aria-label");b.attr("aria-hidden","false").show();a.attr("aria-label","")}if(f.keyCode==27){b.hide()}})});d.focus(function(){a.attr("aria-label",c);$(document).unbind("keydown");a.children("ul").hide();b.attr("aria-hidden","true")})};$.fn.fixed_change=function(f){var a,b,c,d,e;a=$(f.target);b=f.work_line;d=false;c=true;fixc_change=f.after_class;is_ie6=$.browser.msie&&$.browser.version<7;d_height=$(document).height();w_height=$(window).height();e=parseInt(a.css("top"));$(window).scroll(function(){st=$(window).scrollTop();if(is_ie6){if(st<b){a.css("top",e)}else{a.css("top",e-b+st)}return}if(st<b){if(d){a.removeClass(fixc_change);c=true;d=false}}else{if(c){a.addClass(fixc_change);d=true;c=false}}})};$.fn.fixed_door=function(b){var a=$(b.target_ele);a.each(function(c){$(this).mousedown(function(){$(this).children("a").addClass("active")}).mouseup(function(){$(this).children("a").removeClass("active")})})};$.fn.substr=function(b){var a;a=$(b.target_ele);a.each(function(c){var d;d=$(this).html().toString();d=d.subCHStr(b.startp,b.endp);$(this).html(d)})};$.fn.dropbox=function(e){var c,b,d;c=$(e.target_ele);b=e.dropbox_action||"hover";d=e.dropbox_class;if(b=="hover"){c.hover(function(){a($(this).children("ul"),$(this))})}else{c.click(function(){a($(this).children("ul"),$(this))})}function a(f,g){if(f.is(":visible")){f.slideUp(function(){g.removeClass(d)});$(document).unbind("click")}else{f.slideDown(function(){$(document).bind("click",function(){f.slideUp(function(){g.removeClass(d)});$(document).unbind("click")})});g.addClass(d)}}};
